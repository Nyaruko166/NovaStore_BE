<!--
  ~  © 2023 Nyaruko166
  -->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/admin-layout.html}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div layout:fragment="content">
    <div class="container mt-5 p-3 rounded cart">
        <div class="row">
            <div class="col-7">
                <div class="row no-gutters">
                    <div class="col-md-12">
                        <div class="product-details" style="padding: 0">
                            <div class="topnav">
                                <a th:each="y:${lstBill}" class="border border-3 rounded"
                                   th:href="${'/nova/pos?billId='+y.billId}" th:text="${'Hoá Đơn '+ y.billIdPP()}"></a>
                                <div style="float: right; margin-top: 12px">
                                    <button onclick="location.href='/nova/pos/newBill'" type="button"
                                            class="btn btn-dark"><i
                                            class="fa-regular fa-square-plus" style="color: #ffffff;"></i></button>
                                    <button onclick="init()" class="btn btn-dark" type="button" data-toggle="collapse"
                                            data-target="#collapseExample" aria-expanded="false"
                                            aria-controls="collapseExample" id="qr-toggle"
                                    >
                                        <i class="fa-solid fa-qrcode" style="color: #ffffff;"></i>
                                    </button>
                                </div>
                            </div>
                            <!--                            <div class="row">-->
                            <!--                                <div class="col-10">-->
                            <!--                                    <div class="topnav">-->
                            <!--                                        <a href="#home">Home</a>-->
                            <!--                                        <a href="#news">News</a>-->
                            <!--                                        <a href="#contact">Contact</a>-->
                            <!--                                        <a href="#about">About</a>-->
                            <!--                                    </div>-->
                            <!--                                </div>-->
                            <!--                            </div>-->
                            <!--                            <div class="col-2 text-right">-->
                            <!--                                    <button onclick="init()" class="btn btn-dark" type="button" data-toggle="collapse"-->
                            <!--                                            data-target="#collapseExample" aria-expanded="false"-->
                            <!--                                            aria-controls="collapseExample" id="qr-toggle">-->
                            <!--                                        <i class="fa-solid fa-qrcode" style="color: #ffffff;"></i>-->
                            <!--                                    </button>-->
                            <!--                            </div>-->
                        </div>
                        <hr>
                        <h6 class="mb-0">Shopping cart</h6>
                        <div id="output">
                            <div class="d-flex justify-content-between"><span
                                    th:text="${'You have ' + lstCart.size() + ' items in your cart'}"></span>
                                <div class="d-flex flex-row align-items-center"><span
                                        class="text-black-50">Sort by:</span>
                                    <div class="price ml-2"><span class="mr-1">price</span><i
                                            class="fa fa-angle-down"></i>
                                    </div>
                                </div>
                            </div>

                            <div th:each="x:${lstCart}"
                                 class="d-flex justify-content-between align-items-center mt-3 p-2 items rounded">
                                <div class="d-flex flex-row"><img class="rounded" src="https://i.imgur.com/QRwjbm5.jpg"
                                                                  width="40">
                                    <div class="ml-2"><span th:text="${x.name}"
                                                            class="font-weight-bold d-block"></span><span
                                            class="spec" th:text="${x.fieldCombine()}"></span></div>
                                </div>
                                <div class="d-flex flex-row align-items-center"><span th:text="${x.qty}"
                                                                                      class="d-block"></span><span
                                        th:text="${x.calTotalPrice() + ' VNĐ'}"
                                        class="d-block ml-5 font-weight-bold"></span>
                                    <a th:href="@{'/nova/pos/remove/' + ${x.codeCtsp}}" class="trash"><i
                                            class="fa fa-trash-o ml-3 text-black-50"></i></a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-5">
                <div class="col-md-12">
                    <div class="payment-info">
                        <div class="d-flex justify-content-between align-items-center"><span>Card details</span><img
                                class="rounded" src="https://i.imgur.com/WU501C8.jpg" width="30"></div>
                        <span class="type d-block mt-3 mb-1">Card type</span><label class="radio"> <input type="radio"
                                                                                                          name="card"
                                                                                                          value="payment"
                                                                                                          checked>
                        <span><img width="30" src="https://img.icons8.com/color/48/000000/mastercard.png"/></span>
                    </label>

                        <label class="radio"> <input type="radio" name="card" value="payment"> <span><img width="30"
                                                                                                          src="https://img.icons8.com/officel/48/000000/visa.png"/></span>
                        </label>

                        <label class="radio"> <input type="radio" name="card" value="payment"> <span><img width="30"
                                                                                                          src="https://img.icons8.com/ultraviolet/48/000000/amex.png"/></span>
                        </label>


                        <label class="radio"> <input type="radio" name="card" value="payment"> <span><img width="30"
                                                                                                          src="https://img.icons8.com/officel/48/000000/paypal.png"/></span>
                        </label>
                        <div><label class="credit-card-label">Name on card</label><input type="text"
                                                                                         class="form-control credit-inputs"
                                                                                         placeholder="Name"></div>
                        <div><label class="credit-card-label">Card number</label><input type="text"
                                                                                        class="form-control credit-inputs"
                                                                                        placeholder="0000 0000 0000 0000">
                        </div>
                        <div class="row">
                            <div class="col-md-6"><label class="credit-card-label">Date</label><input type="text"
                                                                                                      class="form-control credit-inputs"
                                                                                                      placeholder="12/24">
                            </div>
                            <div class="col-md-6"><label class="credit-card-label">CVV</label><input type="text"
                                                                                                     class="form-control credit-inputs"
                                                                                                     placeholder="342">
                            </div>
                        </div>
                        <hr class="line">
                        <div class="d-flex justify-content-between information">
                            <span>Subtotal</span><span>$3000.00</span>
                        </div>
                        <div class="d-flex justify-content-between information"><span>Shipping</span><span>$20.00</span>
                        </div>
                        <div class="d-flex justify-content-between information">
                            <span>Total(Incl. taxes)</span><span>$3020.00</span>
                        </div>
                        <button class="btn btn-primary btn-block d-flex justify-content-between mt-3"
                                type="button"><span>$3020.00</span><span>Checkout<i
                                class="fa fa-long-arrow-right ml-1"></i></span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="collapse" id="collapseExample">
        <div class="card card-body">
            <main>
                <div id="reader"></div>
                <div id="result"></div>
            </main>
        </div>
        <script th:inline="javascript" th:src="@{/admin/assets/js/pos.js}"></script>
    </div>
</div>
<!--</div>-->
<!--<script th:inline="javascript">-->
<!--    $(document).ready(function () {-->
<!--        $('#trash').click(function () {-->
<!--            var value_fired = $(this).val();-->
<!--            console.log(value_fired);-->
<!--            removeFromCart(value_fired);-->
<!--        });-->
<!--    });-->

<!--    function removeFromCart(codeCtsp) {-->
<!--        fetch("/nova/pos/remove", {-->
<!--            method: "POST",-->
<!--            body: JSON.stringify({-->
<!--                data: codeCtsp,-->
<!--            }),-->
<!--            headers: {-->
<!--                "Content-type": "application/json; charset=UTF-8"-->
<!--            }-->
<!--        }).then(updateOutput);-->
<!--    }-->
<!--</script>-->
</body>
</html>